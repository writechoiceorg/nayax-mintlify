---
title: "doPeriodic"
---

The `doPeriodic` method should be called at least once a day to deposit transactions and update the AEA database. This method generates a Z report summarizing the day's transactions.

## Request

<Note>
**JSON-RPC 2.0**

All methods in TweezerComm follow a JSON-RPC 2.0 structure. See [Integration ](doc:integration-tweezer)for more details on how the requests are structured and sent.
</Note>

In the request, ensure to configure the following:

* The `method `field must be set to `doTransactionPhase2` .
* The service must be set to `ashrait `in the `params`.
* An optional string specifying the report format (`narrow`, `medium`, `wide`, or `xml`)

The request contains a list of parameters that can include a `forceUpdateParams `boolean flag to force the terminal to update its retailer parameters.

```json
{
    "jsonrpc": "2.0",
    "method": "doPeriodic",
    "params": [
        "ashrait",
        "wide",
        {
            "forceUpdateParams": true
        }
    ],
    "id": 2
}
```

### Request Parameters

This method's parameters are a list of values, not a dictionary.

* Service Name (string, mandatory): The service name. Currently, this is a fixed value: ashrait.
* Report Format (string, optional): The format of the report. Values include narrow, medium, wide, or xml.
* Force Update (boolean, optional): An optional dictionary with a `forceUpdateParams `key. When true, it forces the terminal to update the retailer parameters.

## Response

A successful request will return the following response:

```json
{
    "jsonrpc": "2.0",
    "id": "2",
    "result": {
        "statusCode": 0,
        "report": "        MODULARITY 12 \n׳ž׳¡׳₪׳¨ ׳ž׳¡׳•׳£:  0883012   \n׳×׳׳¨׳™׳š:      17/07/2024\n...",
        "ackNumber": "23346317",
        "queriedTransactions": [
            "24071711405408830122531", 
            "24071711552508830122539", 
            "24071711552508830122539"
        ]
    }
}
```

### Response Parameters

The table below describes the response parameters for this method.

| Name                  | Type         | Description                                      |
| :-------------------- | :----------- | :----------------------------------------------- |
| `statusCode`          | integer      | Operation status. A value of `0` indicates `OK`. |
| `statusMessage`       | string       | Operation message (e.g., `ok`)                   |
| `report`              | string       | End of day / Z report content                    |
| `ackNumber`           | string       | Acknowledge number of this batch                 |
| `queriedTransactions` | string array | Transactions of the current batch                |