---
title: "Pre-Authorization"
---

Tweezercomm's pre-authorization transactions are processed, authorized, and either settled or canceled based on the response from the payment server. This process also includes a resilience mechanism for handling errors.

## Transaction Flow

To understand the pre-authorization flow, see the diagram below:

<Frame>![](/images/docs/tweezercomm-engine-preauth-flow/images1.png)</Frame>

Here's a breakdown of each step:

1. After the cardholder selects the product or service, the Machine sends a [`doTransaction()`](doc:dotransaction) Request to the Agamento Application through TweezerComm.
2. The device then displays a prompt for the cardholder, requesting him to insert or swipe a card.
3. The cardholder inserts, swipes, or taps their card on the Host Machine.
4. The Agamento Application communicates with the Nayax Server for payment authorization.
5. The Nayax Server responds with the authorization result, which is then returned to the Host Machine.
6. Depending on the outcome of the approval, the Host Machine sends a `doTransaction(tranType=6/7)`Request to the Agamento Application to settle or cancel the transaction.
7. The settlement or cancellation request is sent to the Nayax Server, which responds with the final transaction status.
8. The Agamento App then relays this status back to the Host Machine, completing the process.

<Warning>
**Resilience Mechanis**

If the `statusCode != 0` (indicating an issue) is returned, the system refers to the [Resilience Mechanism](doc:resilience-flow) to understand how TweezerComm handles errors or retry mechanisms.
</Warning>

## See Also

<CardGroup cols={2}>
  <Card title="doTransaction" href="/docs/dotransaction" icon="arrow-up-right" />
  <Card title="Resilience Flow" href="/docs/resilience-flow" icon="arrow-up-right" />
</CardGroup>
