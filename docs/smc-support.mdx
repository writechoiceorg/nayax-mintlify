---
title: "Closed Loop Card Support"
---

SMC (Self-Managed Cards) is a Spark feature that enables integrators to utilize closed-loop cards, such as RFID tags, company-issued badges, or loyalty cards, within Spark's Remote and Device start flows. Rather than relying on Nayax or the acquiring bank to authorize the card, your system is responsible for validating and authorizing it. It is ideal when:

* You want to offer payment-free access (e.g., for employees or VIPs)
* You’re using a loyalty card or RFID solution already in place
* You don't need authorization from an external acquirer (no bank approval involved)

This enables greater flexibility for internal payment systems, free access programs, or custom logic-based validation.

<Note>
**Enabling SMC**

To support this feature, you must use a dedicated “Payment Method”. Machines supporting this Payment Method will able to support Spark Self-Managed cards and Credit Cards only (no additional Prepaid cards of different Providers).

Please ask your Nayax Integration Engineer for more information and configuration assistance
</Note>

## How SMC Works

When SMC is enabled:

* Spark treats all card taps as automatically authorized
* Your backend is expected to decide whether to proceed or cancel the session
* Spark still performs the normal callback flow (`TransactionCallback`, `StopNotify`)

This makes the card interaction fast and seamless while shifting responsibility to your backend to match card data against your internal system and decide whether to continue, cancel, or log the session.

## Card UID

The Payment card's Unique ID (Card UUID) is a critical identifier for Spark self-managed cards. While Nayax automatically approves these cards, it's the integrator's responsibility to validate their authenticity and authorization for service. If an integrator determines a card is invalid or unauthorized, they must initiate a `/CancelTransaction` request.

<Warning>
**Card Validation**

If you don’t validate the card on your side, unauthorized users could start sessions. Always compare `UID `or `token `data in the callback.
</Warning>

## Use Case Example

A typical SMC transaction would look like the following:

1. The card is detected and accepted by Spark.
2. Your backend receives a `/TransactionCallback `with card hash and UID.
3. You look up the badge in your internal employee system.
4. If approved, the session continues, and a `/Settlement` is sent later.
   1. If denied, your backend sends`/CancelTransaction`.

<Warning>
**Settlement**

that `/Settlement` is mandatory and will indicate a valid Spark Self-Managed card was presented.
</Warning>

## See Also

<CardGroup cols={3}>
  <Card title="Api Methods" href="/docs/api-methods-spark" icon="arrow-up-right" />
  <Card title="TransactionCallback" href="/docs/transactioncallback" icon="arrow-up-right" />
  <Card title="Settlement" href="/docs/settlement" icon="arrow-up-right" />
  <Card title="CancelTransaction" href="/docs/canceltransaction" icon="arrow-up-right" />
</CardGroup>