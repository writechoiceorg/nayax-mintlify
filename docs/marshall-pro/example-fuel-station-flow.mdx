---
title: "Example: Fuel Station Flow"
description: "A step-by-step guide through a standard 2-phase fueling transaction."
---

The following sequence illustrates a typical Pay-at-the-Pump workflow, combining payment detection, user interaction, and final settlement.

### Step 1: Enable the Reader
The system starts by activating the terminal to wait for a card or mobile wallet.

```json
{
  "command": "cardDetect",
  "requestId": "fuel-001",
  "data": {
    "amount": 50000,
    "tranType": 1,
    "channels": ["CTLS", "CHIP", "SWIPE"]
  }
}
```
### Step 2: Confirm Payment Location
Once a card is detected, ask the user if they are paying here or inside.

```json
{
  "command": "displayConfirm",
  "requestId": "fuel-002",
  "data": {
    "title": "Choose Payment Method",
    "yesLabel": "Pay at Pump",
    "noLabel": "Pay in Store"
  }
}
```

### Step 3: Fuel Type Selection
Prompt the user to select their desired fuel grade.

```json
{
  "command": "displaySelect",
  "requestId": "fuel-003",
  "data": {
    "title": "Select Fuel Type",
    "options": [
      {"tag": "87", "label": "Unleaded 87"},
      {"tag": "89", "label": "Unleaded 89"},
      {"tag": "DSL", "label": "Diesel"}
    ],
    "showTags": true
  }
}
```

### Step 4: Finalize
**Authorize:** Call `authorize` to hold the $500.00 max limit.
**Fueling:** Use `displayScreen` to show a "Fueling in progress" animation.
**Settle:** When the nozzle is holstered, call `settle` with the actual amount (e.g., $78.50).

```json
{
  "command": "settle",
  "requestId": "fuel-006",
  "data": {
    "transactionId": "TXN-20260113-004000",
    "amount": 7850
  }
}
```