---
title: "Get Machine's Last Sales"
---

In some cases, you may want to see the last sales of a machine to retrieve information about specific transactions. Nayax Core allows you to do so in the following way:

1. Go to **Operations > Machines** .
2. Choose your machine and click **Info > Last Sales** .

<Frame><img src="/images/docs/getting-a-machines-last-sales/image1.png" /></Frame>

You will be presented with a list containing the latest machine transactions.

## Lynx API

Lynx API allows you to do this process programmatically through a GET request. This page will guide you on how to do so using the endpoint below.

<HTMLBlock>
  {`
  <style>
    .endpoint_card_container {
      gap: 10px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));

      .card {
        display: flex;
        position: relative;
        padding: 16px 18px;
        align-items: flex-start;
        justify-content: start;
        gap: 12px;
        border-radius: 6px;
        border: 1px solid #DCDCDC;
        background-color: #FFF;
        text-decoration: none !important;
        transition: all 0.3s ease, border 0.1s ease;

        .card_content {
          font-feature-settings: 'clig' off, 'liga' off;
          font-family: Inter;
          font-style: normal;
          line-height: 18px;

          h3 {
            display: flex;
            flex-direction: column;
            gap: 10px;
            flex-wrap: wrap;
            color: #383838;
            font-size: 17.5px;
            font-weight: 700;
            margin: 0 38px 0 0;

            span {
              position: absolute;
              top: 10px;
              right: -5px;
              display: flex;
              align-items: center;
              justify-content: center;
              flex-shrink: 0;
              color: #FFF !important;
              text-align: center;
              font-size: 8px;
              font-weight: 700;
              text-transform: uppercase;
              width: 40px;
              height: 16px;
              flex-shrink: 0;
              border-radius: var(--border-radius-lg);
              margin: 0 15px 0 0;
            }

            .get {
              background: #0e9b71;
              text-shadow: 1px 1px 0 #0d8d67, 0 1px 0 #0d8d67, 1px 0 0 #0d8d67;
            }

            .post {
              background: #0171c2;
              text-shadow: 1px 1px 0 #0168b3, 0 1px 0 #0168b3, 1px 0 0 #0168b3;
            }

            .patch {
              background: #df7d03;
              text-shadow: 1px 1px 0 #d07503, 0 1px 0 #d07503, 1px 0 0 #d07503;
            }
          }

          p {
            color: #676767;
            font-size: 14px;
            font-weight: 400;
            margin-bottom: 5px;
          }

          .link {
            color: #d2a900;
            font-size: 14px;
            font-weight: 500;
            line-height: 18px;
            text-decoration: none;

            svg {
              fill: #d2a900;
            }
          }

          .link:hover {
            text-decoration: underline;
          }
        }
      }

      .card:hover {
        border: 1px solid #d2a900;
        box-shadow: 0px 0px 9.7px 0px rgba(0, 0, 0, 0.21);

        h3 {
          color: #d2a900;
        }
      }
    }

    @media only screen and (max-width: 400px) {
      .endpoint_card_container {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      }
    }

    @media only screen and (max-width: 350px) {
      .endpoint_card_container {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      }
    }

    @media (prefers-color-scheme: dark) {
      [data-color-mode="system"] .card {
        border: 1px solid #556974;
        background-color: #20292e;

        .card_content {

          h3,
          p {
            color: #FFF;
          }

          .link {
            color: #d2a900;

            svg {
              fill: #d2a900;
            }
          }
        }
      }

      [data-color-mode="system"] .card:hover {
        h3 {
          color: #d2a900 !important;
        }
      }
    }

    [data-color-mode="dark"] .card {
      border: 1px solid #556974;
      background-color: #20292e;

      .card_content {

        h3,
        p {
          color: #FFF;
        }

        .link {
          color: #d2a900;

          svg {
            fill: #d2a900;
          }
        }
      }
    }

    [data-color-mode="dark"] .card:hover {
      h3 {
        color: #d2a900 !important;
      }
    }
  </style>

  <body>
    <div class="endpoint_card_container">
      <a class="card" href="/v1.0/reference/get-last-sales-for-machine">
        <div class="card_content">
          <h3><span class="get">get</span> Get Last Sales for Machine by MachineID</h3>
        </div>
      </a>
    </div>

  </body>
  `}
</HTMLBlock>

<Warning>
**Authentication**

Refer to the [Security & Token](https://developerhub.nayax.com/docs/security) page of this documentation to learn how to access your tokens, and how to properly use it to authenticate your API requests.
</Warning>

### Retrieving the Last Sales

You'll use the [Get Last Sales for Machine](https://developerhub.nayax.com/reference/get-last-sales-for-machine) endpoint, adding the machine's unique identifier as a path parameter to retrieve details about the respective machine. This lets you view the latest sales activity associated with the searched machine. See the example request in the code block below:

```curl Request
curl -X GET "https://lynx.nayax.com/operational/api/v1/machines/<MachineID>/lastSales" \
-H "Authorization: Bearer <YOUR_ACCESS_TOKEN>" \
-H "Content-Type: application/json"
```

<Note>
**Path Params**

Replace `<MachineID>` with the actual machine unique identifier you want to search.
</Note>

With a successful request, the endpoint will return with a list of recent sales related to the machine. This response JSON will have the following format:

```json Response
[
  {
    "TransactionID": 2108816976,
    "PaymentServiceTransactionID": "PS123456789",
    "PaymentServiceProviderName": "Stripe",
    "MachineID": 942488501,
    "MachineName": "Marshall Vending",
    "MachineNumber": "MV001",
    "InstituteLocationName": "New York Warehouse",
    "AuthorizationValue": 10.00,
    "SettlementValue": 9.50,
    "CurrencyCode": "USD",
    "PaymentMethod": "Credit Card",
    "RecognitionMethod": "Chip",
    "CardNumber": "************1234",
    "CardBrand": "Visa",
    "CLI": "+1234567890",
    "ProductName": "Bottled Water",
    "MultivendTransactionBit": true,
    "MultivendNumverOfProducts": 2,
    "UnitOfMeasurement": "Item",
    "Quantity": 2,
    "EnergyConsumed": 0,
    "AuthorizationDateTimeGMT": "2024-10-09T16:53:51.225Z",
    "MachineAuthorizationTime": "2024-10-09T16:53:51.225Z",
    "SettlementDateTimeGMT": "2024-10-09T16:54:51.225Z",
    "SiteID": 2,
    "SiteName": "IL1"
  }
]
```

The table below describes the parameters on the response:

| **Field**                     | **Description**                                           |
| ----------------------------- | --------------------------------------------------------- |
| `TransactionID`               | `2108816976`, identifying the transaction.                |
| `PaymentServiceTransactionID` | Provides details about the payment processor transaction. |
| `PaymentServiceProviderName`  | Indicates the name of the payment processor.              |
| `MachineID`                   | Refers to the machine where the transaction took place.   |
| `MachineName`                 | Name of the machine where the transaction occurred.       |
| `AuthorizationValue`          | The authorized transaction amount.                        |
| `SettlementValue`             | The settled transaction amount.                           |
| `CurrencyCode`                | The currency used in the transaction (e.g., `USD`).       |
| `PaymentMethod`               | The method used for payment.                              |
| `RecognitionMethod`           | How the payment was recognized.                           |
| `CardNumber`                  | The card number used for payment.                         |
| `CardBrand`                   | The brand of the card used for payment.                   |
| `ProductName`                 | Specifies the item sold in the transaction.               |
| `Quantity`                    | The quantity of the item sold.                            |
| `AuthorizationDateTimeGMT`    | The authorization timestamp in GMT.                       |
| `SettlementDateTimeGMT`       | The settlement timestamp in GMT.                          |

